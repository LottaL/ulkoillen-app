(this["webpackJsonphelsinki-outdoor-innovation"]=this["webpackJsonphelsinki-outdoor-innovation"]||[]).push([[0],{31:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAANCAYAAABPeYUaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADMSURBVHgBpZCxDcJADEU/FLSkok7DALAADIAQE7ACI5AFEDABiDVAimjpKKiJBA0VTED4xi6iJHcR5EtPOd8/f8UGiuqQBbmRlNzJhoRwqJGr5WFs5zVJ7G5mdyNyQYWu5ECCEm9nfuALGEN/P3T40vwk07zRzJz75AgdoUwvcrZ3zhBRG369ScsXkkBH8c3cJSeP/21+kKXDn0MXG6JCPejytmRoDfLdQ5eeWlilpDHONKVWr34NEgUo7ij6J6hMUSZoghqKoLsbSPEBc2stDTMzKEIAAAAASUVORK5CYII="},32:function(t,e,n){t.exports=n.p+"static/media/fall.3e583269.png"},33:function(t,e,n){t.exports=n.p+"static/media/spring.697fcd37.jpg"},34:function(t,e,n){t.exports=n.p+"static/media/summer.e41bd981.png"},35:function(t,e,n){t.exports=n.p+"static/media/winter.6d8cd0e7.png"},37:function(t,e,n){t.exports=n.p+"static/media/helsinki-temp-map.ff1c6733.jpg"},38:function(t,e,n){t.exports=n(72)},60:function(t,e,n){},61:function(t,e,n){},62:function(t,e,n){},63:function(t,e,n){},69:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),r=n(30),i=n.n(r),c=n(3),l=n(16),u=n(2),s=n(5),d=n(1),m=n.n(d),f="http://www.hel.fi/palvelukarttaws/rest/v4/",g=Object(a.createContext)(),p=function(t){var e=Object(a.useState)({toilets:[],transports:[],commercial:[],parking:[],playgrounds:[]}),n=Object(c.a)(e,2),r=n[0],i=n[1];return o.a.createElement(g.Provider,{value:{services:r,updateServices:function(){Promise.all([m.a.get(f+"unit/?ontologyword=819").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{toilets:t}})),m.a.get(f+"unit/?ontologyword=209+437+576").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{transports:t}})),m.a.get(f+"unit/?ontologyword=887+537+814").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{parking:t}})),m.a.get(f+"unit/?ontologyword=142*239+142*256+142*309+142*577+239+256+309+390+577").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{commercial:t}})),m.a.get(f+"unit/?ontologyword=389").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{playgrounds:t}}))]).then((function(t){var e={};t.forEach((function(t){e=Object(s.a)(Object(s.a)({},e),t)})),i(e)}))}}},t.children)},h=n(8),y=Object(a.createContext)(),b=function(t){var e=Object(a.useState)({archery:{data:[],tags:["land"],displayname_fi:"",displayname_en:"Archery"},athletics:{data:[],tags:["land"],displayname_fi:"",displayname_en:"Athletics"},ballFields:{data:[],tags:["land","ballgames"],displayname_fi:"",displayname_en:"Ball fields"},baseball:{data:[],tags:["land","ballgames"],displayname_fi:"",displayname_en:"Baseball"},basketball:{data:[],tags:["land","ballgames"],displayname_fi:"",displayname_en:"Basketball"},beachvolley:{data:[],tags:["land","ballgames"],displayname_fi:"",displayname_en:"Beach volley"},biking:{data:[],tags:["land"],displayname_fi:"",displayname_en:"Biking"},boatsports:{data:[],tags:["water"],displayname_fi:"",displayname_en:"Boat sports"},campingLodges:{data:[],tags:["land","nature"],displayname_fi:"",displayname_en:"Hiking stops, camping and lodges"},climbing:{data:[],tags:["land"],displayname_fi:"",displayname_en:"Climbing"},discGolf:{data:[],tags:["land"],displayname_fi:"",displayname_en:"Disc golf"},dogActivities:{data:[],tags:["land","animals"],displayname_fi:"",displayname_en:"Sports to do with a dog"},downhillSki:{data:[],tags:["land","winter"],displayname_fi:"",displayname_en:"Downhill skiing"},fishing:{data:[],tags:["land","water","animals"],displayname_fi:"",displayname_en:"fishing"},football:{data:[],tags:["land","ballgames"],displayname_fi:"",displayname_en:"Football"},golf:{data:[],tags:["land","ballgames"],displayname_fi:"",displayname_en:"Golf and minigolf"},iceSkate:{data:[],tags:["land","winter"],displayname_fi:"",displayname_en:"Ice skating"},orienteering:{data:[],tags:["land","nature"],displayname_fi:"",displayname_en:"Orienteering"},outdoorGyms:{data:[],tags:["land"],displayname_fi:"Ulkokuntosalit ja liikuntapuistot",displayname_en:"Outdoor gyms and sports parks"},parkour:{data:[],tags:["land"],displayname_fi:"",displayname_en:"Parkour"},parks:{data:[],tags:["land","nature"],displayname_fi:"",displayname_en:"Parks"},rollerHockey:{data:[],tags:["land"],displayname_fi:"",displayname_en:"Roller hockey"},skating:{data:[],tags:["land"],displayname_fi:"",displayname_en:"Skating"},skiing:{data:[],tags:["land","winter"],displayname_fi:"",displayname_en:"Skiing"},swimming:{data:[],tags:["water","nature"],displayname_fi:"",displayname_en:"Swimming"},tennis:{data:[],tags:["land","ballgames"],displayname_fi:"",displayname_en:"Tennis"},trailsTracks:{data:[],tags:["land","nature"],displayname_fi:"",displayname_en:"Trails and tracks"},volleyball:{data:[],tags:["land","ballgames"],displayname_fi:"",displayname_en:"Volleyball"},waterSkiing:{data:[],tags:["water"],displayname_fi:"",displayname_en:"Water skiing"}}),n=Object(c.a)(e,2),r=n[0],i=n[1],l=Object(a.useState)({}),u=Object(c.a)(l,2),d=u[0],g=u[1],p=function(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((function(t,n){return t===e[n]}))};return o.a.createElement(y.Provider,{value:{sports:r,updateSports:function(){Promise.all([m.a.get(f+"unit/?ontologyword=212+213").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{archery:{data:t}}})),m.a.get(f+"unit/?ontologyword=810+817+818").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{athletics:{data:t}}})),m.a.get(f+"unit/?ontologyword=495").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{ballFields:{data:t}}})),m.a.get(f+"unit/?ontologyword=511").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{baseball:{data:t}}})),m.a.get(f+"unit/?ontologyword=331").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{basketball:{data:t}}})),m.a.get(f+"unit/?ontologyword=125").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{beachvolley:{data:t}}})),m.a.get(f+"unit/?ontologyword=425+540+542+538+539").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{biking:{data:t}}})),m.a.get(f+"unit/?ontologyword=434+783+677+451+530+643+769").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{boatsports:{data:t}}})),m.a.get(f+"unit/?ontologyword=365+698+721+734+414").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{campingLodges:{data:t}}})),m.a.get(f+"unit/?ontologyword=736+306").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{climbing:{data:t}}})),m.a.get(f+"unit/?ontologyword=169").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{discGolf:{data:t}}})),m.a.get(f+"unit/?ontologyword=317+320+321+480+322+318").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{dogActivities:{data:t}}})),m.a.get(f+"unit/?ontologyword=376").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{downhillSki:{data:t}}})),m.a.get(f+"unit/?ontologyword=240").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{fishing:{data:t}}})),m.a.get(f+"unit/?ontologyword=205").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{football:{data:t}}})),m.a.get(f+"unit/?ontologyword=173+175+573").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{golf:{data:t}}})),m.a.get(f+"unit/?ontologyword=47+235+406+407+514+695").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{iceSkate:{data:t}}})),m.a.get(f+"unit/?ontologyword=666+193+542").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{orienteering:{data:t}}})),m.a.get(f+"unit/?ontologyword=401+415+737").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{outdoorGyms:{data:t}}})),m.a.get(f+"unit/?ontologyword=499").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{parkour:{data:t}}})),m.a.get(f+"unit/?ontologyword=786+438+158+243+442+458++581+733+743+791").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{parks:{data:t}}})),m.a.get(f+"unit/?ontologyword=585").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{rollerHockey:{data:t}}})),m.a.get(f+"unit/?ontologyword=629+630").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{skating:{data:t}}})),m.a.get(f+"unit/?ontologyword=318+191+192+307+193").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{skiing:{data:t}}})),m.a.get(f+"unit/?ontologyword=426+684+730+731+728").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{swimming:{data:t}}})),m.a.get(f+"unit/?ontologyword=700").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{tennis:{data:t}}})),m.a.get(f+"unit/?ontologyword=348+364+413+581+733+743+791+582").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{trailsTracks:{data:t}}})),m.a.get(f+"unit/?ontologyword=392").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{volleyball:{data:t}}})),m.a.get(f+"unit/?ontologyword=777").then((function(t){return t.data})).catch((function(t){return console.log(t),[]})).then((function(t){return{waterSkiing:{data:t}}}))]).then((function(t){var e={};t.forEach((function(t){var n=Object.keys(t)[0];t[n].tags=r[n].tags,t[n].displayname_en=r[n].displayname_en,t[n].displayname_fi=r[n].displayname_fi,e=Object(s.a)(Object(s.a)({},e),t)})),i(e)}))},sorted:d,searchOneSport:function(t){var e=t.replace(",","").replace(".","").toLowerCase(),n=[],a=e.match(/"([^"]+)"/);a?(a=a[1].split(" "),n=e.replace('"'+a+'"',"").split(" ").filter((function(t){return""!==t}))):(a=[],n=e.split(" "));var o,i={},c=function(){for(var t=r[o].displayname_en.toLowerCase().split(" "),e=r[o].displayname_fi.toLowerCase().split(" "),c=[].concat(Object(h.a)(r[o].tags),Object(h.a)(t),Object(h.a)(e)),l=c.filter((function(t){return"and"!==t&&""!==t&&"ja"!==t})),u=[],s=function(t){var e=r[o].data[t],i=[e.name_fi||"",e.name_sv||"",e.name_en||""],s=[e.street_address_fi||"",e.street_address_sv||"",e.street_address_en||"",e.address_city_fi||"",e.address_city_sv||"",e.address_city_en||""],d=(c=[].concat(i,s)).toString().toLowerCase().split(/(?:,| )+/);if(d=d.filter((function(t){return"and"!==t&&""!==t&&"ja"!==t&&"/"})),a.length>0){var m=a.filter((function(t){return[].concat(Object(h.a)(d),Object(h.a)(l)).includes(t)}));p(m,a)&&(u=[].concat(Object(h.a)(u),[e]),console.log(m))}else{var f=n.filter((function(t){return[].concat(Object(h.a)(d),Object(h.a)(l)).includes(t)}));f.length>0&&(u=[].concat(Object(h.a)(u),[e]),console.log(f))}},d=0;d<r[o].data.length;d++)s(d);u.length>0&&(i[o]=r[o],i[o].data=u)};for(o in r)c();g(i)},sortTheSports:function(t){var e,n={};for(e in r)r[e].tags&&r[e].tags.includes(t)&&(n[e]=r[e]);g(n)}}},t.children)},w=Object(a.createContext)(),v=function(t){var e=Object(a.useState)({cod:"",message:0,cnt:0,list:[],city:{}}),n=Object(c.a)(e,2),r=n[0],i=n[1],l=Object(a.useState)({temp:"",wind:"",humidity:"",clouds:"",iconNum:""}),u=Object(c.a)(l,2),s=u[0],d=u[1],m=Object(a.useState)([]),f=Object(c.a)(m,2),g=f[0],p=f[1];return o.a.createElement(w.Provider,{value:{weather:r,updateWeather:function(){fetch("https://api.openweathermap.org/data/2.5/forecast?q=Helsinki&appid=52aef8e7daa5ca4dd4b7b88e3d21d277").then((function(t){return t.json()})).then((function(t){return t})).then((function(t){i(t);var e=t.list[0],n={temp:Math.round(10*(e.main.temp-273.15||s.temp))/10+"\xb0 C",wind:Math.round(10*(e.wind.speed||s.wind))/10+" m/s",humidity:Math.round(10*(e.main.humidity||s.humidity))/10+" %",clouds:e.weather[0].main||s.clouds,iconNum:e.weather[0].icon||s.iconNum};d(n)}))},currWeather:s,updateSixHours:function(){for(var t=[],e=0;e<6;e++){var n=r.list[e],a={time:n.dt_txt||"",wind:{speed:Math.round(10*(n.wind.speed||0))/10||"",deg:n.wind.deg||""},clouds:n.weather[0].main,temp:Math.round(10*(n.main.temp-273.15||0))/10,humidity:Math.round(10*(n.main.humidity||0))/10,feelsLike:Math.round(10*(n.main.feels_like||0))/10,iconNum:n.weather[0].icon||""};t=[].concat(Object(h.a)(t),[a])}p(t)},sixHours:g}},t.children)},_=(n(60),function(t){var e=t.images,n=Object(a.useState)(e[0]),r=Object(c.a)(n,2),i=r[0],l=r[1];Object(a.useEffect)((function(){}),[i]);var u=e.map((function(t){return o.a.createElement("div",{className:"button",key:t,onClick:function(){l(t)}})}));return o.a.createElement("div",{className:"container"},o.a.createElement("div",null,o.a.createElement("img",{className:"top-img",src:i,alt:"depicting season"})),o.a.createElement("div",{className:"bottom-row"},u))}),j=(n(61),function(){var t=Object(a.useContext)(w).currWeather;return o.a.createElement("div",{className:"weather-container"},o.a.createElement("div",{className:"weather-element"},"temperature: ",t.temp),o.a.createElement("div",{className:"weather-element"},"wind: ",t.wind),o.a.createElement("div",{className:"weather-element"},"humidity: ",t.humidity),o.a.createElement("div",{className:"weather-element"},"weather: ",t.clouds))}),E=(n(62),n(31)),O=n.n(E),k=o.a.createContext(""),A={display:"block",justifyContent:"center",alignItems:"center",overflow:"hidden",position:"relative",width:"100vw",top:"0px",margin:0,boxShadow:"saddlebrown 2px"},x={display:"flex",flexDirection:"row",overflow:"hidden",margin:"auto",marginTop:"20px",minWidth:"320px",width:"80%",left:0,right:0},S={WebkitWppearance:"none",width:"calc(100% - 80px)",boxSizing:"border-box",borderRadius:"0px 20px 20px 0px",margin:"0px",border:"none",padding:"10px 50px 10px 10px",outline:"none",fontFamily:"'Montserrat', sans-serif",backgroundColor:"#FFF9E3"},C={WebkitAppearance:"none",outline:"burlywood",border:"none",borderRadius:"0px 20px 20px 0px"},N={width:"50px",height:"30px",background:"none",margin:"auto",marginLeft:"-50px",alignItems:"center",justifyItems:"center",opacity:"90%"},B={width:"80px",background:"none",padding:"10px 10px",margin:"0",opacity:"90%",backgroundColor:"#502619",color:"#FFF9E3",borderRadius:"20px 0 0 20px",textAlign:"left",fontFamily:"'Montserrat', sans-serif",fontSize:"12px",justifyContent:"center",alignItems:"center"},F={display:"block",height:"16px",width:"auto",margin:"auto",padding:"6px"},D=function(t){var e=Object(a.useContext)(y).searchOneSport,n=Object(a.useContext)(k),r=Object(a.useState)({inputFocused:!1,filterHover:!1}),i=Object(c.a)(r,2),l=i[0],u=i[1],d=function(a){a.preventDefault(),null!==t.onSubmit&&t.onSubmit(),e(n)};return o.a.createElement("div",{className:"container-search",style:A},o.a.createElement("form",{className:"search-bar",style:x,onSubmit:d},o.a.createElement("div",{className:"filter button",style:l.filterHover?Object(s.a)(Object(s.a)({},B),{},{opacity:1}):B,onMouseEnter:function(){return u(Object(s.a)(Object(s.a)({},l),{},{filterHover:!0}))},onMouseLeave:function(){return u(Object(s.a)(Object(s.a)({},l),{},{filterHover:!1}))}},"Filter"),o.a.createElement("input",{type:"text",style:l.inputFocused?Object(s.a)(Object(s.a)({},S),C):S,value:n,placeholder:"search",onChange:function(e){var n;n=e.target.value,t.onTermChange(n)},onFocus:function(){return u(Object(s.a)(Object(s.a)({},l),{},{inputFocused:!0}))},onBlur:function(){return u(Object(s.a)(Object(s.a)({},l),{},{inputFocused:!1}))}}),o.a.createElement("div",{className:"submit button",style:N,onClick:d},o.a.createElement("img",{className:"search-logo",style:F,src:O.a,alt:"search"}))))},T=n(32),M=n.n(T),H=n(33),L=n.n(H),R=n(34),P=n.n(R),W=n(35),U=n.n(W),G=(n(63),function(t){var e=Object(a.useContext)(y),n=e.updateSports,r=(e.sorted,Object(a.useContext)(w).updateWeather),i=Object(u.f)();Object(a.useEffect)((function(){n(),r()}),[]);return o.a.createElement("div",{className:"landing-page"},o.a.createElement(_,{images:[L.a,P.a,M.a,U.a]}),o.a.createElement("h2",null,"Discover Helsinki Outdoor Sports"),o.a.createElement("div",null,o.a.createElement(D,{onTermChange:t.onTermChange,onSubmit:function(t){i.push("/result")}}),o.a.createElement(j,null)))}),I=(n(69),function(t){var e=t.location,n=t.detailed,a=e.ontologytree_ids.map((function(t){return o.a.createElement("div",{className:"tag",key:t},t)})),r=e.ontologyword_ids.map((function(t){return o.a.createElement("div",{className:"tag",key:t},t)})),i=o.a.createElement("div",{className:"detail"},o.a.createElement("div",null,e.street_address_en||e.street_address_sv,", ",e.address_city_en,", ",e.address_zip),o.a.createElement("div",null,e.desc_fi||e.desc_fi),o.a.createElement("div",{className:"tag-container"},a,r));return o.a.createElement("div",{className:"result-item-container"},o.a.createElement("div",{className:"location-name"},e.name_en||e.name_fi||e.name_sv),1==n?i:null)}),J=(n(70),function(){var t=Object(a.useContext)(y).updateSports,e=Object(a.useContext)(y).sorted,n=Object(a.useState)(!1),r=Object(c.a)(n,2),i=r[0],l=r[1],u=Object(a.useState)("more"),s=Object(c.a)(u,2),d=s[0],m=s[1],f=Object(a.useState)("40vh"),g=Object(c.a)(f,2),p=g[0],h=g[1],b=Object(a.useState)("hidden"),w=Object(c.a)(b,2),v=w[0],_=w[1],j=Object.keys(e).map((function(t){return e[t].data.map((function(t){return o.a.createElement("div",{key:t.id},o.a.createElement(I,{location:t,detailed:i}))}))}));return Object(a.useEffect)((function(){t(),console.log(j.length),0!==j.length?_("visible"):_("hidden")}),[i,d,j.length]),o.a.createElement("div",{className:"result-container",style:{height:p,visibility:v}},o.a.createElement("button",{className:"more-button",onClick:function(){l(!i),"more"===d?(m("less"),h("50vh")):(h("30vh"),m("more"))}},d),o.a.createElement("div",{className:"scrollable"},j))}),z=(n(71),n(37)),K=n.n(z),V=function(t){return o.a.createElement("div",{className:"result-page-container"},o.a.createElement("img",{className:"background-map",src:K.a}),o.a.createElement(D,{onTermChange:t.onTermChange,onSubmit:null}),o.a.createElement(J,null))},Q=function(){var t=Object(a.useState)(""),e=Object(c.a)(t,2),n=e[0],r=e[1];Object(a.useEffect)((function(){}),[n]);var i=function(t){r(t)};return o.a.createElement("div",{className:"App"},o.a.createElement(l.a,{basename:"/~lottalau/outdoor-app"},o.a.createElement(p,null,o.a.createElement(v,null,o.a.createElement(b,null,o.a.createElement(k.Provider,{value:n},o.a.createElement(u.c,null,o.a.createElement(u.a,{exact:!0,path:"/"},o.a.createElement(G,{onTermChange:i})),o.a.createElement(u.a,{path:"/result"},o.a.createElement(V,{onTermChange:i})))))))))};i.a.render(o.a.createElement(Q,null),document.querySelector("#root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.96c3a007.chunk.js.map